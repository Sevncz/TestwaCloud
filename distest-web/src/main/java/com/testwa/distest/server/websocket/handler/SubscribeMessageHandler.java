package com.testwa.distest.server.websocket.handler;import com.corundumstudio.socketio.AckRequest;import com.corundumstudio.socketio.SocketIOClient;import com.corundumstudio.socketio.annotation.OnEvent;import com.testwa.distest.server.service.cache.mgr.SubscribeMessageMgr;import com.testwa.distest.server.websocket.service.MessageDefine;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;/** * @Program: distest * @Description: 处理页面消息 * @Author: wen * @Create: 2018-04-28 10:13 **/@Slf4j@Componentpublic class SubscribeMessageHandler {    @Autowired    private SubscribeMessageMgr subscribeMessageMgr;    /**     *@Description: 订阅任务的执行动作，后台会根据该订阅，推送通知     *@Param: [client, data, ackRequest]     *@Return: void     *@Author: wen     *@Date: 2018/4/28     */    @OnEvent(value = MessageDefine.S_TASK)    public void onSubTaskAction(SocketIOClient client, Long taskId, AckRequest ackRequest) {        if(taskId == null){            log.error("taskCode is null!");            client.sendEvent("error", "taskId不能为空");            return;        }        subscribeMessageMgr.subscribeTaskAction(taskId, client.getSessionId().toString());    }}