package com.testwa.distest.server.web.task.execute;import com.testwa.distest.server.entity.Task;import com.testwa.distest.server.mongo.model.MethodRunningLog;import com.testwa.distest.server.mongo.service.MethodRunningLogService;import com.testwa.distest.server.mongo.service.PerformanceService;import com.testwa.distest.server.mongo.service.StepService;import com.testwa.distest.server.service.task.service.TaskDeviceService;import com.testwa.distest.server.service.task.service.TaskService;import com.testwa.distest.server.web.task.vo.JRTaskBaseInfoVO;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;import java.text.DecimalFormat;import java.util.List;/** * @Program: distest * @Description: * @Author: wen * @Create: 2018-05-30 11:29 **/@Slf4j@Componentpublic class JRReportMgr {    private static final DecimalFormat doubleTwoPointFormat = new DecimalFormat("0.00");    @Autowired    private TaskService taskService;    @Autowired    private TaskDeviceService taskDeviceService;    @Autowired    private MethodRunningLogService methodRunningLogService;    @Autowired    private StepService stepService;    @Autowired    private PerformanceService performanceService;    public JRTaskBaseInfoVO getBaseInfo(Task task) {        JRTaskBaseInfoVO vo = new JRTaskBaseInfoVO();        // 设备数量        vo.setDeviceNum(task.getDevices().size());        // 运行测试时长        List<MethodRunningLog> methodLogs = methodRunningLogService.getRuningTimeForOperation(task.getTaskCode());        return vo;    }}