<?xml version="1.0" encoding="UTF-8"?><configuration>    <!-- 引用 Spring Boot 的 defaults.xml 的配置 -->    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>    <springProperty scope="context" name="logging.level" source="logging.level.com.testwa.distest"/>    <springProperty scope="context" name="logging.level.root" source="logging.level.root"/>    <!-- 定义 LOG_FILE 变量 -->    <!-- 日志文件优先使用 logging.file 的值，如果没有则使用 logging.path 的值，如果还没有则放入临时目录 -->    <property name="LOG_FILE" value="${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}/}distest_agent/agent.log}"/>    <!-- 自定义日志级别 -->    <logger name="org.springframework.web" level="${logging.level.root}"/>    <logger name="com.testwa.distest" level="${logging.level}"/>    <logger name="com.github.cosysoft" level="ERROR"/>    <!-- 开发环境日志 -->    <springProfile name="dev">        <!-- 引用 Spring Boot 的 console-appender.xml 的配置 -->        <include resource="org/springframework/boot/logging/logback/console-appender.xml"/>        <!-- root 日志级别 -->        <root level="WARN">            <appender-ref ref="CONSOLE"/>        </root>    </springProfile>    <!-- 测试环境日志 -->    <springProfile name="test">        <!-- 引用 Spring Boot 的 console-appender.xml 的配置 -->        <include resource="org/springframework/boot/logging/logback/console-appender.xml"/>        <!-- 自定义文件日志 -->        <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">            <encoder>                <!-- 使用默认的日志格式 -->                <pattern>${FILE_LOG_PATTERN}</pattern>                <charset>UTF-8</charset>            </encoder>            <!-- 日志文件 -->            <file>${LOG_FILE}</file>            <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">                <!--日志文件输出的文件名：按天回滚 daily -->                <FileNamePattern>${LOG_FILE}.%d{yyyy-MM-dd}                </FileNamePattern>                <!--日志文件保留天数-->                <MaxHistory>3</MaxHistory>            </rollingPolicy>        </appender>        <!-- root 日志级别 -->        <root level="WARN">            <appender-ref ref="FILE"/>            <appender-ref ref="CONSOLE"/>        </root>    </springProfile>    <!-- 生产环境日志 -->    <springProfile name="prod">        <!-- 引用 Spring Boot 的 console-appender.xml 的配置 -->        <include resource="org/springframework/boot/logging/logback/console-appender.xml"/>        <!-- 自定义文件日志 -->        <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">            <encoder>                <!-- 使用默认的日志格式 -->                <pattern>${FILE_LOG_PATTERN}</pattern>                <charset>UTF-8</charset>            </encoder>            <!-- 日志文件 -->            <file>${LOG_FILE}</file>            <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">                <!--日志文件输出的文件名：按天回滚 daily -->                <FileNamePattern>${LOG_FILE}.%d{yyyy-MM-dd}                </FileNamePattern>                <!--日志文件保留天数-->                <MaxHistory>3</MaxHistory>            </rollingPolicy>        </appender>        <!-- root 日志级别 -->        <root level="WARN">            <appender-ref ref="FILE"/>            <appender-ref ref="CONSOLE"/>        </root>    </springProfile></configuration>