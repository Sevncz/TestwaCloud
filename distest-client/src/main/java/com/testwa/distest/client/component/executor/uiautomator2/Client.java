package com.testwa.distest.client.component.executor.uiautomator2;import com.alibaba.fastjson.JSONObject;import com.testwa.distest.client.exception.CommandFailureException;import okhttp3.MediaType;import okhttp3.OkHttpClient;import okhttp3.Request;import okhttp3.RequestBody;import java.io.IOException;import java.util.concurrent.TimeUnit;public abstract class Client {    private static final MediaType JSON = MediaType.parse("application/json; " + "charset=utf-8");    private static final OkHttpClient HTTP_CLIENT = new OkHttpClient().newBuilder().readTimeout(15, TimeUnit.SECONDS).build();    public static Response get(final String baseUrl, final String path) throws CommandFailureException {        Request request = new Request.Builder().url(baseUrl + path)                .addHeader("Connection", "close")                .build();        return execute(request);    }    public static Response post(final String baseUrl, final String path, final JSONObject body) throws CommandFailureException {        Request request = new Request.Builder().url(baseUrl + path)                .addHeader("Connection", "close")                .post(RequestBody.create(JSON, body.toString())).build();        return execute(request);    }    public static Response delete(String url) throws CommandFailureException {        Request request = new Request.Builder().url(url)                .addHeader("Connection", "close")                .delete(RequestBody.create(JSON, new JSONObject().toString())).build();        return execute(request);    }    private static Response execute(final Request request) throws CommandFailureException {        try {            return new Response(HTTP_CLIENT.newCall(request).execute());        } catch (IOException e) {            throw new CommandFailureException(request.method() + " \"" + request.url().url().toString() + "\" " +                    "failed. ", e);        }    }}