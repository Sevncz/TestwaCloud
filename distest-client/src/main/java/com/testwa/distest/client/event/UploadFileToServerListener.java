package com.testwa.distest.client.event;import com.github.cosysoft.device.android.AndroidDevice;import com.github.cosysoft.device.android.impl.AndroidDeviceStore;import com.testwa.distest.client.grpc.GrpcClient;import com.testwa.distest.client.service.GrpcClientService;import com.testwa.distest.client.util.Constant;import io.grpc.Channel;import lombok.extern.log4j.Log4j2;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.ApplicationListener;import org.springframework.scheduling.annotation.Async;import org.springframework.stereotype.Component;import java.nio.file.Path;import java.nio.file.Paths;import java.util.TreeSet;@Log4j2@Componentpublic class UploadFileToServerListener implements ApplicationListener<UploadFileToServerEvent> {    @GrpcClient("local-grpc-server")    private Channel serverChannel;    @Autowired    private GrpcClientService grpcClientService;    @Async    @Override    public void onApplicationEvent(UploadFileToServerEvent event) {        log.info("Event: Upload file to server");        UploadFileToServerEvent.FileType type = event.getType();        String deviceId = event.getDeviceId();        switch (type) {            case LOGCAT:                log.info("Upload logcat to server, path: {}", event.getFilePath());                grpcClientService.logcatUpload(event.getTaskId(), deviceId, event.getFilePath());                break;            case APPIUMLOG:                log.info("Upload appium to server, path: {}", event.getFilePath());                grpcClientService.appiumLogUpload(event.getTaskId(), deviceId, event.getFilePath());                break;            case SCREENSHOOT:                break;        }    }}